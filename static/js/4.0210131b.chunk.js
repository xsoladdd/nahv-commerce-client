(this.webpackJsonpcommerce=this.webpackJsonpcommerce||[]).push([[4],{132:function(e,a,t){"use strict";t.d(a,"b",(function(){return b})),t.d(a,"a",(function(){return m}));var r=t(112),n=t.n(r),s=t(113),c=t(136),i=t.n(c),o=t(35),u=t.n(o),l=i.a.create();l.defaults.headers.common.Authorization=u.a.get("access_token");var d=l,p="http://localhost:8000",b=function(){var e=Object(s.a)(n.a.mark((function e(a){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.data,e.next=3,d.post("".concat(p,"/register"),t);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(n.a.mark((function e(a){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.data,e.next=3,d.post("".concat(p,"/login"),t);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},299:function(e,a,t){"use strict";t.r(a);var r=t(112),n=t.n(r),s=t(113),c=t(47),i=t(33),o=t(0),u=t(133),l=t(296),d=t(298),p=t(56),b=t(168),m=t(132),j=t(169),h=j.a().shape({password:j.c().min(8,"Too Short!").max(15,"Too Long!").required("Required"),email:j.c().email("Invalid email").required("Required")}),f=t(301),v=t(167),x=t(9),O=t(35),w=t.n(O),g=t(5),k=function(e){Object(i.a)(e);var a=Object(o.useState)({message:"",variant:"danger"}),t=Object(c.a)(a,2),r=t[0],j=t[1],O=Object(x.g)(),k=Object(f.a)((function(e){return Object(m.a)(e)}),{onSuccess:function(e){return 401===e.status?j({message:e.message,variant:"danger"}):(w.a.set("access_token",e.token,{expires:7}),O.push("/"))}}).mutateAsync;return Object(g.jsxs)(u.a,{className:"pt-5",children:[Object(g.jsxs)("blockquote",{className:"blockquote text-center",children:[Object(g.jsx)("h1",{className:" mb-0",children:"Register"}),Object(g.jsx)("footer",{className:"blockquote-footer",children:"Please authenticate to join us"})]}),Object(g.jsx)(b.b,{initialValues:{email:"",password:""},validationSchema:h,onSubmit:Object(v.debounce)(function(){var e=Object(s.a)(n.a.mark((function e(a,t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setSubmitting,e.next=3,k({data:a});case 3:r(!1);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),1e3),children:function(e){var a=e.isSubmitting,t=e.values,n=e.errors,s=e.touched,c=e.handleSubmit;return Object(g.jsxs)(l.a,{onSubmit:c,noValidate:!0,children:[Object(g.jsxs)(l.a.Group,{controlId:"email",children:[Object(g.jsx)(l.a.Label,{children:"Email address"}),Object(g.jsx)(l.a.Control,{as:b.a,type:"email",placeholder:"Enter email",value:t.email,isInvalid:s.email&&!!n.email}),n.email&&s.email?Object(g.jsx)(l.a.Text,{className:"invalid-feedback pl-2",children:n.email}):null]}),Object(g.jsxs)(l.a.Group,{controlId:"password",children:[Object(g.jsx)(l.a.Label,{children:"Password"}),Object(g.jsx)(l.a.Control,{as:b.a,type:"password",placeholder:"Password",value:t.password,isInvalid:s.password&&!!n.password}),n.password&&s.password?Object(g.jsx)(l.a.Text,{className:"invalid-feedback pl-2",children:n.password}):null]}),r.message&&Object(g.jsx)(d.a,{variant:r.variant,children:r.message}),Object(g.jsx)(p.a,{variant:"primary",type:"submit",disabled:a,children:a?"Loading...":"Login "})]})}})]})};a.default=k}}]);
//# sourceMappingURL=4.0210131b.chunk.js.map